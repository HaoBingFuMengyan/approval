<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <script src="../../static/jquery/jquery-2.1.1.min.js"></script>
    <script src="../../static/angular-1.7.5/angular.js"></script>
    <title>会员登陆</title>
    <link rel="icon" href="../../images/favicon.ico"/>
    <link href="../../css/login.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript">
        var pcLogin = angular.module('pcLogin', []);
        pcLogin.controller('formCtrl', function ($scope, $http, $location) {
            $scope.loginAction = function () {
                var host = location.host;
                $http({
                    url: 'http://' + host + '/login.json',//验证表单的接口
                    method: 'POST',
                    data: {
                        'sname': $scope.user.sname,
                        'spassword': $scope.user.spassword,
                        'checkcode': $scope.user.checkcode
                    },
                    headers: {'Content-Type': 'application/x-www-form-urlencoded'},
                }).then(function successCallback(response) {
                    // 请求成功执行代码
                    alert('success');
                }, function errorCallback(response) {
                    // 请求失败执行代码
                    alert('fail');
                });
            }
        });
    </script>
</head>
<body ng-app="pcLogin">
<div class="login_box">
    <div class="login_l_img"><img src="../../images/login-img.png"/></div>
    <div class="login">
        <div class="login_logo"><a href="#"><img src="../../images/login_logo.png"/></a></div>
        <div class="login_name">
            <p>会员管理系统</p>
        </div>
        <!--<form id="inputForm" ng-controller="formCtrl" ng-submit="loginAction()">-->
            <!--<input type="text" placeholder="用户名" ng-modhyuser.sname" required ng-minlength="11">-->

            <!--<input type="password" placeholder="密码" ng-modhyuser.spassword" required ng-minlength="6"/>-->

            <!--<input type="text" placeholder="验证码" ng-modhyuser.checkcode" required ng-minlength="4"/>-->
            <!--<a onclick="refreshCaptcha()">-->
                <!--&lt;!&ndash;<img class="captcha" id="captchaImg" src="${ctx}/captcha.html"/>&ndash;&gt;-->
            <!--</a>-->
            <!--<input id="login" value="登录" style="width:100%;" type="submit">-->
        <!--</form>-->
        <form id="inputForm" ng-controller="formCtrl">
            <input type="text" name="sname" />
            <input type="text" name="spassword" />
            <input type="text" name="checkcode" />
            <input type="submit" value="登录" ng-click="loginAction()" />
        </form>
    </div>
    <div class="copyright">HaoSHI有限公司 版权所有©2018-2118 技术支持电话：021-00000000</div>
</div>
</body>
</html>